import {
  InputConstraintsMixin
} from "./chunk-W64WW7UW.js";
import {
  Debouncer,
  timeOut
} from "./chunk-MQRWSCDX.js";

// node_modules/.pnpm/@vaadin/field-base@22.0.2/node_modules/@vaadin/field-base/src/pattern-mixin.js
var PatternMixin = (superclass) => class PatternMixinClass extends InputConstraintsMixin(superclass) {
  static get properties() {
    return {
      pattern: {
        type: String
      },
      preventInvalidInput: {
        type: Boolean
      }
    };
  }
  static get delegateAttrs() {
    return [...super.delegateAttrs, "pattern"];
  }
  static get constraints() {
    return [...super.constraints, "pattern"];
  }
  _checkInputValue() {
    if (this.preventInvalidInput) {
      const input = this.inputElement;
      if (input && input.value.length > 0 && !this.checkValidity()) {
        input.value = this.value || "";
        this.setAttribute("input-prevented", "");
        this._inputDebouncer = Debouncer.debounce(this._inputDebouncer, timeOut.after(200), () => {
          this.removeAttribute("input-prevented");
        });
        return;
      }
    }
  }
  _onInput(event) {
    this._checkInputValue();
    super._onInput(event);
  }
};

export {
  PatternMixin
};
/**
 * @license
 * Copyright (c) 2021 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */
//# sourceMappingURL=chunk-43QNQDZ4.js.map
